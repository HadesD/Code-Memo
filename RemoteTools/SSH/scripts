#!/bin/bash

read -p 'REMOTE_SERVER_HOST=' REMOTE_SERVER_HOST
read -p 'REMOTE_SERVER_PORT=' REMOTE_SERVER_PORT
read -p 'REMOTE_SERVER_USERNAME=' REMOTE_SERVER_USERNAME
read -p 'REMOTE_SERVER_PASSWORD=' REMOTE_SERVER_PASSWORD
read -p 'OUT_FILE_NAME=' OUT_FILE_NAME

cat > "../${OUT_FILE_NAME}.sh" <<EOL
#!/bin/bash

REMOTE_SERVER_HOST=${REMOTE_SERVER_HOST}
REMOTE_SERVER_PORT=${REMOTE_SERVER_PORT}
REMOTE_SERVER_USERNAME=${REMOTE_SERVER_USERNAME}
REMOTE_SERVER_PASSWORD=${REMOTE_SERVER_PASSWORD}

source ./templates/exec-remote.sh

EOL

chmod +x "../${OUT_FILE_NAME}.sh"

echo [i] Write "../../Keys/${OUT_FILE_NAME}.pem":\n
cat > "../../Keys/${OUT_FILE_NAME}.pem"
